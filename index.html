<!DOCTYPE html>
<html lang="kk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ï—Ä–∫—ñ–Ω —Ç“Ø—Å—É “Ø–¥–µ—É—ñ ‚Äî –¢–∞–ø—Å—ã—Ä–º–∞</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #050a14;
    --surface: #0d1b2e;
    --card: #0f2035;
    --accent: #00e5ff;
    --accent2: #ff6b35;
    --accent3: #7fff6b;
    --text: #e8f4ff;
    --muted: #5a7a99;
    --glow: 0 0 20px rgba(0,229,255,0.4);
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Exo 2', sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Stars background */
  body::before {
    content:'';
    position:fixed; inset:0;
    background: radial-gradient(ellipse at 20% 50%, rgba(0,100,200,0.08) 0%, transparent 60%),
                radial-gradient(ellipse at 80% 20%, rgba(0,229,255,0.05) 0%, transparent 50%);
    pointer-events:none;
  }

  .stars {
    position:fixed; inset:0; pointer-events:none; z-index:0;
    overflow:hidden;
  }
  .star {
    position:absolute; background:#fff; border-radius:50%;
    animation: twinkle var(--d,3s) ease-in-out infinite;
  }
  @keyframes twinkle {
    0%,100%{opacity:0.2} 50%{opacity:1}
  }

  .container {
    max-width: 1100px;
    margin: 0 auto;
    padding: 30px 20px;
    position:relative; z-index:1;
  }

  /* Header */
  header {
    text-align:center;
    margin-bottom: 40px;
    padding: 40px 20px 30px;
    border-bottom: 1px solid rgba(0,229,255,0.2);
    position:relative;
  }
  header::after {
    content:'';
    position:absolute; bottom:0; left:50%; transform:translateX(-50%);
    width:200px; height:2px;
    background: linear-gradient(90deg, transparent, var(--accent), transparent);
  }
  .badge {
    display:inline-block;
    background: rgba(0,229,255,0.1);
    border: 1px solid var(--accent);
    color: var(--accent);
    font-family: 'Orbitron', monospace;
    font-size:11px;
    letter-spacing:3px;
    padding:6px 18px;
    border-radius:20px;
    margin-bottom:16px;
    text-transform:uppercase;
  }
  h1 {
    font-family: 'Orbitron', monospace;
    font-size: clamp(22px, 5vw, 42px);
    font-weight:900;
    color: var(--accent);
    text-shadow: var(--glow);
    line-height:1.2;
    margin-bottom:10px;
  }
  .subtitle {
    color: var(--muted);
    font-size:15px;
    letter-spacing:1px;
  }

  /* Simulator */
  .sim-section {
    display:grid;
    grid-template-columns: 1fr 1.2fr;
    gap: 24px;
    margin-bottom:30px;
  }
  @media(max-width:700px){
    .sim-section{grid-template-columns:1fr;}
  }

  .panel {
    background: var(--card);
    border: 1px solid rgba(0,229,255,0.15);
    border-radius: 16px;
    padding: 24px;
    position:relative;
    overflow:hidden;
  }
  .panel::before {
    content:'';
    position:absolute; top:0; left:0; right:0; height:2px;
    background: linear-gradient(90deg, transparent, var(--accent), transparent);
  }
  .panel-title {
    font-family:'Orbitron', monospace;
    font-size:12px;
    letter-spacing:3px;
    color:var(--accent);
    text-transform:uppercase;
    margin-bottom:20px;
    opacity:0.8;
  }

  /* Canvas simulation */
  #simCanvas {
    width:100%;
    border-radius:10px;
    background: linear-gradient(180deg, #040d1a 0%, #061525 100%);
    border: 1px solid rgba(0,229,255,0.1);
    display:block;
  }

  /* Controls */
  .control-row {
    display:flex;
    flex-direction:column;
    gap:18px;
    margin-bottom:20px;
  }
  .ctrl-group label {
    display:flex; justify-content:space-between;
    font-size:13px; color:var(--muted);
    margin-bottom:8px;
  }
  .ctrl-group label span {
    color:var(--accent); font-family:'Orbitron',monospace; font-size:12px;
  }
  input[type=range] {
    width:100%;
    -webkit-appearance:none;
    height:4px;
    background: rgba(0,229,255,0.2);
    border-radius:4px;
    outline:none;
  }
  input[type=range]::-webkit-slider-thumb {
    -webkit-appearance:none;
    width:18px; height:18px;
    border-radius:50%;
    background: var(--accent);
    box-shadow: 0 0 10px var(--accent);
    cursor:pointer;
  }

  .btn-row { display:flex; gap:10px; flex-wrap:wrap; }
  .btn {
    flex:1;
    padding:12px 10px;
    border:none; border-radius:10px;
    font-family:'Orbitron',monospace;
    font-size:11px;
    letter-spacing:1px;
    cursor:pointer;
    transition: all 0.2s;
    text-transform:uppercase;
  }
  .btn-primary {
    background: var(--accent);
    color: #000;
    box-shadow: 0 0 15px rgba(0,229,255,0.4);
  }
  .btn-primary:hover { box-shadow:0 0 25px rgba(0,229,255,0.7); transform:translateY(-2px); }
  .btn-secondary {
    background: transparent;
    color: var(--accent);
    border: 1px solid var(--accent);
  }
  .btn-secondary:hover { background:rgba(0,229,255,0.1); }

  /* Stats display */
  .stats-grid {
    display:grid; grid-template-columns:1fr 1fr;
    gap:10px; margin-top:16px;
  }
  .stat-box {
    background: rgba(0,0,0,0.3);
    border:1px solid rgba(0,229,255,0.1);
    border-radius:10px;
    padding:12px;
    text-align:center;
  }
  .stat-label { font-size:10px; color:var(--muted); letter-spacing:1px; text-transform:uppercase; margin-bottom:4px; }
  .stat-val {
    font-family:'Orbitron',monospace;
    font-size:18px;
    font-weight:700;
    color:var(--accent3);
  }

  /* Formulas */
  .formula-section {
    background: var(--card);
    border: 1px solid rgba(255,107,53,0.3);
    border-radius:16px;
    padding:24px;
    margin-bottom:30px;
    position:relative;
    overflow:hidden;
  }
  .formula-section::before {
    content:'';
    position:absolute; top:0; left:0; right:0; height:2px;
    background: linear-gradient(90deg, transparent, var(--accent2), transparent);
  }
  .formula-title {
    font-family:'Orbitron',monospace;
    font-size:12px;
    letter-spacing:3px;
    color:var(--accent2);
    margin-bottom:18px;
    text-transform:uppercase;
  }
  .formulas {
    display:grid; grid-template-columns:repeat(auto-fit, minmax(220px,1fr));
    gap:14px;
  }
  .formula-card {
    background: rgba(255,107,53,0.07);
    border: 1px solid rgba(255,107,53,0.2);
    border-radius:10px;
    padding:16px;
    text-align:center;
  }
  .formula-name { font-size:11px; color:var(--muted); margin-bottom:8px; }
  .formula-eq {
    font-family:'Orbitron',monospace;
    font-size:16px;
    color:var(--accent2);
    letter-spacing:1px;
    text-shadow:0 0 15px rgba(255,107,53,0.5);
  }
  .formula-desc { font-size:11px; color:var(--muted); margin-top:6px; }

  /* Tasks */
  .tasks-section { margin-bottom:30px; }
  .tasks-title {
    font-family:'Orbitron',monospace;
    font-size:14px;
    letter-spacing:3px;
    color:var(--accent3);
    text-transform:uppercase;
    margin-bottom:20px;
    text-align:center;
  }
  .task-cards { display:grid; gap:16px; }
  .task-card {
    background: var(--card);
    border: 1px solid rgba(127,255,107,0.15);
    border-radius:14px;
    padding:22px;
    display:grid;
    grid-template-columns: auto 1fr auto;
    gap:16px;
    align-items:start;
    transition: border-color 0.3s, transform 0.2s;
  }
  .task-card:hover { border-color:rgba(127,255,107,0.4); transform:translateX(4px); }
  .task-card.correct { border-color:var(--accent3); background:rgba(127,255,107,0.05); }
  .task-card.wrong { border-color:#ff4757; background:rgba(255,71,87,0.05); }
  .task-num {
    font-family:'Orbitron',monospace;
    font-size:20px; font-weight:900;
    color:rgba(127,255,107,0.3);
    line-height:1;
    min-width:30px;
  }
  .task-content h3 { font-size:14px; color:var(--text); margin-bottom:8px; font-weight:600; }
  .task-content p { font-size:13px; color:var(--muted); line-height:1.6; }
  .task-input-wrap { display:flex; gap:8px; margin-top:12px; align-items:center; }
  .task-input {
    background: rgba(0,0,0,0.3);
    border: 1px solid rgba(127,255,107,0.3);
    border-radius:8px;
    padding:8px 12px;
    color:var(--text);
    font-family:'Orbitron',monospace;
    font-size:14px;
    width:100px;
    outline:none;
    transition: border-color 0.2s, box-shadow 0.2s;
  }
  .task-input:focus {
    border-color:var(--accent3);
    box-shadow:0 0 12px rgba(127,255,107,0.3);
  }
  .task-unit { font-size:13px; color:var(--muted); }
  .check-btn {
    background: rgba(127,255,107,0.15);
    border:1px solid var(--accent3);
    color:var(--accent3);
    border-radius:8px;
    padding:8px 16px;
    font-family:'Orbitron',monospace;
    font-size:10px;
    cursor:pointer;
    letter-spacing:1px;
    transition:all 0.2s;
    white-space:nowrap;
  }
  .check-btn:hover { background:rgba(127,255,107,0.25); }
  .feedback {
    font-size:12px;
    margin-top:8px;
    padding:8px 12px;
    border-radius:6px;
    display:none;
  }
  .feedback.show { display:block; }
  .feedback.ok { background:rgba(127,255,107,0.1); color:var(--accent3); border:1px solid rgba(127,255,107,0.3); }
  .feedback.err { background:rgba(255,71,87,0.1); color:#ff6b7a; border:1px solid rgba(255,71,87,0.3); }

  /* Progress */
  .progress-bar-wrap {
    background: rgba(0,0,0,0.3);
    border-radius:10px; height:6px;
    margin: 20px 0 8px;
    overflow:hidden;
  }
  .progress-bar {
    height:100%; border-radius:10px;
    background: linear-gradient(90deg, var(--accent3), var(--accent));
    width:0%; transition:width 0.5s ease;
    box-shadow:0 0 10px rgba(127,255,107,0.5);
  }
  .progress-label {
    font-size:12px; color:var(--muted);
    text-align:center; margin-bottom:20px;
    font-family:'Orbitron',monospace;
  }

  /* Score */
  .score-display {
    text-align:center;
    padding:16px;
    background: var(--card);
    border-radius:14px;
    border:1px solid rgba(0,229,255,0.15);
    margin-top:10px;
  }
  .score-label { font-size:11px; color:var(--muted); letter-spacing:2px; text-transform:uppercase; }
  .score-num {
    font-family:'Orbitron',monospace;
    font-size:48px; font-weight:900;
    color:var(--accent);
    text-shadow:var(--glow);
  }
</style>
</head>
<body>

<div class="stars" id="stars"></div>

<div class="container">
  <header>
    <div class="badge">‚öõ –§–∏–∑–∏–∫–∞ ¬∑ 9-—Å—ã–Ω—ã–ø</div>
    <h1>–ï–†–ö–Ü–ù –¢“Æ–°–£ “Æ–î–ï–£–Ü</h1>
    <p class="subtitle">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—Ç—ñ –æ“õ—ã—Ç—É —Ç–∞–ø—Å—ã—Ä–º–∞—Å—ã ¬∑ g = 9.8 –º/—Å¬≤</p>
  </header>

  <!-- Formulas -->
  <div class="formula-section">
    <div class="formula-title">üìê –ù–µ–≥—ñ–∑–≥—ñ —Ñ–æ—Ä–º—É–ª–∞–ª–∞—Ä</div>
    <div class="formulas">
      <div class="formula-card">
        <div class="formula-name">–ñ—ã–ª–¥–∞–º–¥—ã“õ</div>
        <div class="formula-eq">v = g ¬∑ t</div>
        <div class="formula-desc">v ‚Äî –∂—ã–ª–¥–∞–º–¥—ã“õ (–º/—Å), g ‚Äî –µ—Ä–∫—ñ–Ω —Ç“Ø—Å—É “Ø–¥–µ—É—ñ (9.8 –º/—Å¬≤), t ‚Äî —É–∞“õ—ã—Ç (—Å)</div>
      </div>
      <div class="formula-card">
        <div class="formula-name">–¢“Ø—Å—É –±–∏—ñ–∫—Ç—ñ–≥—ñ</div>
        <div class="formula-eq">h = ¬Ω ¬∑ g ¬∑ t¬≤</div>
        <div class="formula-desc">h ‚Äî –±–∏—ñ–∫—Ç—ñ–∫ (–º), t ‚Äî —É–∞“õ—ã—Ç (—Å)</div>
      </div>
      <div class="formula-card">
        <div class="formula-name">–£–∞“õ—ã—Ç</div>
        <div class="formula-eq">t = ‚àö(2h / g)</div>
        <div class="formula-desc">–ë–∏—ñ–∫—Ç—ñ–∫—Ç–µ–Ω —É–∞“õ—ã—Ç—Ç—ã —Ç–∞–±—É —Ñ–æ—Ä–º—É–ª–∞—Å—ã</div>
      </div>
      <div class="formula-card">
        <div class="formula-name">–ñ–µ—Ä “Ø–¥–µ—É—ñ</div>
        <div class="formula-eq">g ‚âà 9.8 –º/—Å¬≤</div>
        <div class="formula-desc">–ñ–µ—Ä –±–µ—Ç—ñ–Ω–¥–µ–≥—ñ –µ—Ä–∫—ñ–Ω —Ç“Ø—Å—É “Ø–¥–µ—É—ñ–Ω—ñ“£ –º”ô–Ω—ñ</div>
      </div>
    </div>
  </div>

  <!-- Simulator -->
  <div class="sim-section">
    <div class="panel">
      <div class="panel-title">üî≠ –í–∏–∑—É–∞–ª–¥—ã –°–∏–º—É–ª—è—Ç–æ—Ä</div>
      <canvas id="simCanvas" height="360"></canvas>
    </div>
    <div class="panel">
      <div class="panel-title">‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä–ª–µ—Ä</div>
      <div class="control-row">
        <div class="ctrl-group">
          <label>–ë–∞—Å—Ç–∞–ø“õ—ã –±–∏—ñ–∫—Ç—ñ–∫ <span id="hVal">80 –º</span></label>
          <input type="range" id="hSlider" min="20" max="200" value="80" oninput="updateSim()">
        </div>
        <div class="ctrl-group">
          <label>“Æ–¥–µ—É (g) <span id="gVal">9.8 –º/—Å¬≤</span></label>
          <input type="range" id="gSlider" min="1.6" max="24.8" step="0.1" value="9.8" oninput="updateSim()">
          <div style="display:flex;justify-content:space-between;font-size:10px;color:var(--muted);margin-top:4px;">
            <span>–ê–π (1.6)</span><span>–ñ–µ—Ä (9.8)</span><span>–Æ–ø–∏—Ç–µ—Ä (24.8)</span>
          </div>
        </div>
      </div>
      <div class="btn-row" style="margin-bottom:16px;">
        <button class="btn btn-primary" onclick="startSim()">‚ñ∂ –Ü–°–ö–ï “ö–û–°–£</button>
        <button class="btn btn-secondary" onclick="resetSim()">‚Ü∫ “ö–ê–ô–¢–ê</button>
      </div>
      <div class="stats-grid">
        <div class="stat-box">
          <div class="stat-label">–£–∞“õ—ã—Ç</div>
          <div class="stat-val" id="statT">0.00 —Å</div>
        </div>
        <div class="stat-box">
          <div class="stat-label">–ñ—ã–ª–¥–∞–º–¥—ã“õ</div>
          <div class="stat-val" id="statV">0.0 –º/—Å</div>
        </div>
        <div class="stat-box">
          <div class="stat-label">–ë–∏—ñ–∫—Ç—ñ–∫</div>
          <div class="stat-val" id="statH">‚Äî –º</div>
        </div>
        <div class="stat-box">
          <div class="stat-label">–ñ“Ø—Ä–≥–µ–Ω –∂–æ–ª</div>
          <div class="stat-val" id="statD">0.0 –º</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Tasks -->
  <div class="tasks-section">
    <div class="tasks-title">üìù –ï—Å–µ–ø—Ç–µ—Ä</div>

    <div class="progress-bar-wrap">
      <div class="progress-bar" id="progressBar"></div>
    </div>
    <div class="progress-label" id="progressLabel">0 / 5 –æ—Ä—ã–Ω–¥–∞–ª–¥—ã</div>

    <div class="task-cards" id="taskCards">

      <!-- Task 1 -->
      <div class="task-card" id="tc1">
        <div class="task-num">01</div>
        <div class="task-content">
          <h3>–ñ—ã–ª–¥–∞–º–¥—ã“õ—Ç—ã —Ç–∞–±—ã“£—ã–∑</h3>
          <p>–î–µ–Ω–µ –µ—Ä–∫—ñ–Ω —Ç“Ø—Å–µ –±–∞—Å—Ç–∞–¥—ã. <strong>4 —Å–µ–∫—É–Ω–¥—Ç–∞–Ω</strong> –∫–µ–π—ñ–Ω –¥–µ–Ω–µ–Ω—ñ –∂—ã–ª–¥–∞–º–¥—ã“ì—ã “õ–∞–Ω—à–∞ –±–æ–ª–∞–¥—ã?<br>
          <em>(g = 9.8 –º/—Å¬≤)</em></p>
          <div class="task-input-wrap">
            <input class="task-input" id="ans1" type="number" placeholder="0.0">
            <span class="task-unit">–º/—Å</span>
            <button class="check-btn" onclick="check(1, 39.2, 0.5)">–¢–ï–ö–°–ï–†–£</button>
          </div>
          <div class="feedback" id="fb1"></div>
        </div>
        <div></div>
      </div>

      <!-- Task 2 -->
      <div class="task-card" id="tc2">
        <div class="task-num">02</div>
        <div class="task-content">
          <h3>–¢“Ø—Å—É –±–∏—ñ–∫—Ç—ñ–≥—ñ–Ω —Ç–∞–±—ã“£—ã–∑</h3>
          <p>–î–µ–Ω–µ <strong>5 —Å–µ–∫—É–Ω–¥</strong> –±–æ–π—ã –µ—Ä–∫—ñ–Ω —Ç“Ø—Å—Ç—ñ. –î–µ–Ω–µ “õ–∞–Ω–¥–∞–π –±–∏—ñ–∫—Ç—ñ–∫—Ç–µ–Ω —Ç“Ø—Å—Ç—ñ?<br>
          <em>(g = 9.8 –º/—Å¬≤, h = ¬Ωgt¬≤)</em></p>
          <div class="task-input-wrap">
            <input class="task-input" id="ans2" type="number" placeholder="0.0">
            <span class="task-unit">–º</span>
            <button class="check-btn" onclick="check(2, 122.5, 0.5)">–¢–ï–ö–°–ï–†–£</button>
          </div>
          <div class="feedback" id="fb2"></div>
        </div>
        <div></div>
      </div>

      <!-- Task 3 -->
      <div class="task-card" id="tc3">
        <div class="task-num">03</div>
        <div class="task-content">
          <h3>–£–∞“õ—ã—Ç—Ç—ã —Ç–∞–±—ã“£—ã–∑</h3>
          <p>–î–µ–Ω–µ <strong>180 –º–µ—Ç—Ä</strong> –±–∏—ñ–∫—Ç—ñ–∫—Ç–µ–Ω –µ—Ä–∫—ñ–Ω —Ç“Ø—Å—ñ–ø –∂–∞—Ç—ã—Ä. –ñ–µ—Ä–≥–µ –∂–µ—Ç–∫–µ–Ω–≥–µ –¥–µ–π—ñ–Ω “õ–∞–Ω—à–∞ —É–∞“õ—ã—Ç –∫–µ—Ç–µ–¥—ñ?<br>
          <em>(g = 9.8 –º/—Å¬≤, t = ‚àö(2h/g))</em></p>
          <div class="task-input-wrap">
            <input class="task-input" id="ans3" type="number" placeholder="0.00">
            <span class="task-unit">—Å</span>
            <button class="check-btn" onclick="check(3, 6.06, 0.1)">–¢–ï–ö–°–ï–†–£</button>
          </div>
          <div class="feedback" id="fb3"></div>
        </div>
        <div></div>
      </div>

      <!-- Task 4 -->
      <div class="task-card" id="tc4">
        <div class="task-num">04</div>
        <div class="task-content">
          <h3>–ê–π –±–µ—Ç—ñ–Ω–¥–µ–≥—ñ —Ç“Ø—Å—É</h3>
          <p>–ê–π –±–µ—Ç—ñ–Ω–¥–µ –µ—Ä–∫—ñ–Ω —Ç“Ø—Å—É “Ø–¥–µ—É—ñ <strong>g = 1.6 –º/—Å¬≤</strong>. –î–µ–Ω–µ 3 —Å–µ–∫—É–Ω–¥ —Ç“Ø—Å—Ç—ñ. –û–Ω—ã“£ –∂—ã–ª–¥–∞–º–¥—ã“ì—ã “õ–∞–Ω—à–∞ –±–æ–ª–¥—ã?</p>
          <div class="task-input-wrap">
            <input class="task-input" id="ans4" type="number" placeholder="0.0">
            <span class="task-unit">–º/—Å</span>
            <button class="check-btn" onclick="check(4, 4.8, 0.1)">–¢–ï–ö–°–ï–†–£</button>
          </div>
          <div class="feedback" id="fb4"></div>
        </div>
        <div></div>
      </div>

      <!-- Task 5 -->
      <div class="task-card" id="tc5">
        <div class="task-num">05</div>
        <div class="task-content">
          <h3>–°–æ“£“ì—ã –∂—ã–ª–¥–∞–º–¥—ã“õ—Ç—ã —Ç–∞–±—ã“£—ã–∑</h3>
          <p>–î–µ–Ω–µ <strong>44.1 –º–µ—Ç—Ä</strong> –±–∏—ñ–∫—Ç—ñ–∫—Ç–µ–Ω –µ—Ä–∫—ñ–Ω —Ç“Ø—Å—Ç—ñ. –ñ–µ—Ä–≥–µ —Ç–∏–µ—Ä —Å”ô—Ç—Ç–µ–≥—ñ –∂—ã–ª–¥–∞–º–¥—ã“ì—ã–Ω —Ç–∞–±—ã“£—ã–∑.<br>
          <em>–ö–µ“£–µ—Å: –∞–ª–¥—ã–º–µ–Ω t —Ç–∞–±—ã“£—ã–∑, —Å–æ–¥–∞–Ω –∫–µ–π—ñ–Ω v = gt</em></p>
          <div class="task-input-wrap">
            <input class="task-input" id="ans5" type="number" placeholder="0.0">
            <span class="task-unit">–º/—Å</span>
            <button class="check-btn" onclick="check(5, 29.4, 0.5)">–¢–ï–ö–°–ï–†–£</button>
          </div>
          <div class="feedback" id="fb5"></div>
        </div>
        <div></div>
      </div>

    </div>

    <div class="score-display" style="margin-top:24px;">
      <div class="score-label">“∞–ø–∞–π</div>
      <div class="score-num" id="scoreNum">0</div>
      <div style="font-size:12px;color:var(--muted);margin-top:4px;" id="scoreMsg">–ï—Å–µ–ø—Ç–µ—Ä–¥—ñ —à–µ—à—ñ–ø, “±–ø–∞–π –∂–∏–Ω–∞“£—ã–∑!</div>
    </div>
  </div>
</div>

<script>
// Stars
const starsEl = document.getElementById('stars');
for(let i=0;i<80;i++){
  const s=document.createElement('div');
  s.className='star';
  const sz=Math.random()*2+0.5;
  s.style.cssText=`width:${sz}px;height:${sz}px;top:${Math.random()*100}%;left:${Math.random()*100}%;--d:${2+Math.random()*4}s;animation-delay:${Math.random()*5}s;`;
  starsEl.appendChild(s);
}

// === SIMULATOR ===
const canvas = document.getElementById('simCanvas');
const ctx = canvas.getContext('2d');
let simH=80, simG=9.8, simT=0, simRunning=false, simAnim=null;
let ballY=0, maxH=80;

function resizeCanvas(){
  canvas.width = canvas.offsetWidth;
  canvas.height = 360;
}
resizeCanvas();

function updateSim(){
  simH = parseFloat(document.getElementById('hSlider').value);
  simG = parseFloat(document.getElementById('gSlider').value);
  document.getElementById('hVal').textContent = simH+' –º';
  document.getElementById('gVal').textContent = simG.toFixed(1)+' –º/—Å¬≤';
  resetSim();
}

function drawSim(){
  const W=canvas.width, H=canvas.height;
  ctx.clearRect(0,0,W,H);

  // Background gradient
  const grd=ctx.createLinearGradient(0,0,0,H);
  grd.addColorStop(0,'#020810');
  grd.addColorStop(1,'#04111e');
  ctx.fillStyle=grd; ctx.fillRect(0,0,W,H);

  const padTop=30, padBot=40;
  const trackH = H-padTop-padBot;

  // Height ruler
  ctx.strokeStyle='rgba(0,229,255,0.1)'; ctx.lineWidth=1;
  const steps=5;
  for(let i=0;i<=steps;i++){
    const y = padTop + (trackH/steps)*i;
    ctx.beginPath(); ctx.moveTo(30,y); ctx.lineTo(W-10,y); ctx.stroke();
    const label = Math.round(simH*(1-i/steps));
    ctx.fillStyle='rgba(0,229,255,0.4)'; ctx.font='10px Orbitron,monospace';
    ctx.fillText(label+'–º', 2, y+4);
  }

  // Track line
  ctx.strokeStyle='rgba(0,229,255,0.2)'; ctx.lineWidth=1; ctx.setLineDash([4,4]);
  ctx.beginPath(); ctx.moveTo(W/2,padTop); ctx.lineTo(W/2,H-padBot); ctx.stroke();
  ctx.setLineDash([]);

  // Ground
  ctx.strokeStyle='rgba(0,229,255,0.5)'; ctx.lineWidth=2;
  ctx.beginPath(); ctx.moveTo(20,H-padBot); ctx.lineTo(W-10,H-padBot); ctx.stroke();
  ctx.fillStyle='rgba(0,229,255,0.2)'; ctx.font='11px Orbitron,monospace';
  ctx.fillText('–ñ–ï–†', W/2-15, H-20);

  // Ball position
  const ratio = ballY/maxH;
  const bx = W/2;
  const by = padTop + ratio*trackH;
  const radius = 14;

  // Trail
  if(simRunning || simT>0){
    for(let i=1;i<=6;i++){
      const prevRatio = Math.max(0,(ballY - i*1.5)/maxH);
      const py = padTop+prevRatio*trackH;
      ctx.beginPath();
      ctx.arc(bx, py-radius, radius*(0.3+i*0.05), 0, Math.PI*2);
      ctx.fillStyle=`rgba(0,229,255,${0.05*i})`;
      ctx.fill();
    }
  }

  // Glow
  const glowGrad=ctx.createRadialGradient(bx,by,0,bx,by,radius*2.5);
  glowGrad.addColorStop(0,'rgba(0,229,255,0.4)');
  glowGrad.addColorStop(1,'rgba(0,229,255,0)');
  ctx.fillStyle=glowGrad; ctx.beginPath(); ctx.arc(bx,by,radius*2.5,0,Math.PI*2); ctx.fill();

  // Ball
  const ballGrad=ctx.createRadialGradient(bx-4,by-4,1,bx,by,radius);
  ballGrad.addColorStop(0,'#80f0ff');
  ballGrad.addColorStop(0.6,'#00c8e8');
  ballGrad.addColorStop(1,'#005577');
  ctx.fillStyle=ballGrad; ctx.beginPath(); ctx.arc(bx,by,radius,0,Math.PI*2); ctx.fill();

  // Velocity arrow
  if(simT>0){
    const v=simG*simT;
    const arrLen=Math.min(v*1.5,60);
    ctx.strokeStyle='#ff6b35'; ctx.lineWidth=2;
    ctx.beginPath(); ctx.moveTo(bx+radius+5,by); ctx.lineTo(bx+radius+5+arrLen,by+arrLen*0.5); ctx.stroke();
    ctx.fillStyle='#ff6b35';
    ctx.font='9px Orbitron'; ctx.fillText('v='+v.toFixed(1)+'–º/—Å', bx+radius+8, by-6);
  }
}

function startSim(){
  if(simRunning) return;
  simRunning=true; simT=0; ballY=0; maxH=simH;
  const tFinal=Math.sqrt(2*simH/simG);
  const startWall=performance.now();

  function frame(now){
    simT=(now-startWall)/1000;
    if(simT>=tFinal){ simT=tFinal; simRunning=false; }
    ballY=0.5*simG*simT*simT;
    document.getElementById('statT').textContent=simT.toFixed(2)+' —Å';
    document.getElementById('statV').textContent=(simG*simT).toFixed(1)+' –º/—Å';
    document.getElementById('statH').textContent=(simH-ballY).toFixed(1)+' –º';
    document.getElementById('statD').textContent=ballY.toFixed(1)+' –º';
    drawSim();
    if(simRunning) simAnim=requestAnimationFrame(frame);
  }
  simAnim=requestAnimationFrame(frame);
}

function resetSim(){
  if(simAnim) cancelAnimationFrame(simAnim);
  simRunning=false; simT=0; ballY=0; maxH=simH;
  document.getElementById('statT').textContent='0.00 —Å';
  document.getElementById('statV').textContent='0.0 –º/—Å';
  document.getElementById('statH').textContent='‚Äî –º';
  document.getElementById('statD').textContent='0.0 –º';
  drawSim();
}
drawSim();

// === TASKS ===
let solved=new Set();
function check(n, correct, tol){
  const inp=document.getElementById('ans'+n);
  const fb=document.getElementById('fb'+n);
  const card=document.getElementById('tc'+n);
  const val=parseFloat(inp.value);
  if(isNaN(val)){
    fb.className='feedback show err';
    fb.textContent='‚ùå –°–∞–Ω –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑!'; return;
  }
  if(Math.abs(val-correct)<=tol){
    fb.className='feedback show ok';
    fb.textContent='‚úÖ –î“±—Ä—ã—Å! –ñ–∞—É–∞–±—ã: '+correct;
    card.classList.add('correct'); card.classList.remove('wrong');
    if(!solved.has(n)){ solved.add(n); updateScore(); }
  } else {
    fb.className='feedback show err';
    fb.textContent='‚ùå –î“±—Ä—ã—Å –µ–º–µ—Å. –§–æ—Ä–º—É–ª–∞–Ω—ã “õ–∞–π—Ç–∞ —Ç–µ–∫—Å–µ—Ä—ñ“£—ñ–∑.';
    card.classList.add('wrong'); card.classList.remove('correct');
  }
}

function updateScore(){
  const total=5;
  const done=solved.size;
  document.getElementById('progressBar').style.width=(done/total*100)+'%';
  document.getElementById('progressLabel').textContent=done+' / '+total+' –æ—Ä—ã–Ω–¥–∞–ª–¥—ã';
  document.getElementById('scoreNum').textContent=done*20;
  const msgs=['–ï—Å–µ–ø—Ç–µ—Ä–¥—ñ —à–µ—à—ñ–ø, “±–ø–∞–π –∂–∏–Ω–∞“£—ã–∑!',
    '–ñ–∞“õ—Å—ã –±–∞—Å—Ç–∞–¥—ã“£—ã–∑! –ñ–∞–ª“ì–∞—Å—Ç—ã—Ä—ã“£—ã–∑!',
    '–¢–∞–º–∞—à–∞! –ñ–∞—Ä—Ç—ã –∂–æ–ª–¥—ã ”©—Ç—Ç—ñ“£—ñ–∑!',
    '”®—Ç–µ –∂–∞“õ—Å—ã! –ê–∑“ì–∞–Ω–∞ “õ–∞–ª–¥—ã!',
    '–ë”ô—Ä–µ–∫–µ–ª–¥—ñ! –§–∏–Ω–∞–ª –∞–ª–¥—ã—Å—ã“£—ã–∑!',
    'üèÜ –ö–µ—Ä–µ–º–µ—Ç! –ë–∞—Ä–ª—ã“õ –µ—Å–µ–ø—Ç—ñ —à–µ—à—Ç—ñ“£—ñ–∑!'];
  document.getElementById('scoreMsg').textContent=msgs[done];
}
</script>
</body>
</html>
